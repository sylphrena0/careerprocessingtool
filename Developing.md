# **Developing Guide for the APS Career Processing Tool**

## **Packaging Code**

### **Windows:**

1. Install Python (with path)
1. Run the file `install-pip-modules-windows.bat` as administrator
1. Open Command Prompt or Powershell
1. Change directory to the python code using `cd <dir>`
1. Run `pyinstaller --noconsole --onedir --add-data="./*;." ./'APS Career Data Processing Tool v1.0'.pyw`
1. This will create an exe file with dependencies all in one folder (under dist). You can run it like this, or you can use advanced installer's "installer project" option 
to make a msi installer that will automatically copy these files to program files and make a start menu shortcut. It will add all other files in that directory to the compile.

### **MacOS:**

1. Install Python (with path)
1. Install dependencies manually, by running the following commands in bash:
    ```bash
     python ./get-pip.py
     cd /python%python_ver%/Scripts/
     ./pip install pandas
     ./pip install PySimpleGUI
     ./pip install regex
     ./pip install nltk
     ./pip install pysqlite3
     ./pip install pillow
     ./pip install pysinstaller
     ```

1. Change directory to the location of the python code using `cd <dir>`
1. Run `pyinstaller --noconsole --onedir --add-data="./*:." ./'APS Career Data Processing Tool v1.0'.pyw`
1. This will create an linux program file with dependencies all in one folder (under dist). You can run it by calling it in bash, via ` ./'APS Career Data Processing Tool v1.0' `, 
or you can package it as a .dmg file using these or other instructions: https://www.recitalsoftware.com/blogs/148-howto-build-a-dmg-file-from-the-command-line-on-mac-os-x

<!-- <details open>
<summary><font size=4>Project Filestructure:</font></summary> <!-- using template from https://stackoverflow.com/questions/19699059/representing-directory-file-structure-in-markdown-syntax 

 ```
root
│   .bashrc             ~ bash functions to simplify workflow
│   .gitignore          ~ specifies files that git will not send to this github repository (mostly runtime files)
│   compute.sh          ~ file like run_script.sh that attempts to add bash arguments to control qsub
│
└───code    ~ contains all code for the project, excluding bash scripts
│   │   feature_anaylsis.ipynb      ~ anaylzes features and generates files that give a landscape of that database
│   │   feature_selection.ipynb     ~ anaylzes feature importance and correlations
│   │   training.ipynb              ~ training notebook to test models locally before running compute farm scripts
│   │
│   └───dependancies    ~ contains code that defines shared functions, used by code in the parent directory
│       │   shared_functions.py     ~ general use functions that are used in many files
│       │   superlearner.py         ~ functions that simplify creation of superlearning models
│       │   ...
│
└───data    ~  contains datasets, features, and various generated files about the data - feature files include target
│   │   dataset.csv                 ~ superconducter database from Stanev2018
│   │   dataset_hamidieh.csv        ~ superconductor database, cleaned - https://arxiv.org/pdf/1803.10260.pdf
│   │   features.csv                ~ features for training, generated from Stanev2018 dataset with ../code/build_features.py
│   │   features_hamidieh.csv       ~ features for training using data from https://arxiv.org/pdf/1803.10260.pdf
│   │   dataset_histogram.png       ~ histogram of critical tempurtures in the dataset
│   │
│   └───importance    ~ contains feature importances for ensemble models, generated by code/feature_selection.ipynb
│       │   ...
│
└───latex   ~ contains source files and output for the latex final paper for the CLASSE REU program
│   ...
│
└───results     ~ contains all result prediction vs target grapgs and exported files
    │   results_optimized.csv               ~ results from training main eight models, generated from ../code/training_bulk.py
    │   results_unoptimized.csv             ~ unoptimized results from training main eight models
    │
    └───individual      ~ contains graphs and csv result files from individual model training 
    │   │   ...
    │
    └───optimization    ~ contains csv results from code/model_optimizer.py and code/model_optimizer_bayes.py
        │   ...
```

</details> -->